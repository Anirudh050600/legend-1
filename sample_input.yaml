---
title: SampleTitle
service: SampleService
grafana_folder: SampleFolder
alert_channels: ["service-opsgenie"]
environment: Prod
description: Logging tool for everything deployed on kubernetes
references:
  deployment: https://github.com/grofers/kube-infra/tree/master/manifests/loki
  documentation: https://github.com/grafana/loki/tree/master/docs
  metrics_definition: https://github.com/grofers/kube-infra/tree/master/manifests/loki
tags:
- stage
- infra
components:
  s3:
    dimensions:
      - bucket_name: grofers-loki-prod
        filter_id: EntireBucket
      - bucket_name: retail-bulk-upload
        filter_id: EntireBucket
  mysql_ec2:
    dimensions:
      ec2:
        - host: perconamaster*
      db:
        - masters:
          - host: perconamaster4-mysql-metrics
            db_name: ims
          slaves:
            - host: perconamaster1-mysql-metrics
              db_name: ims
            - host: perconamaster5-mysql-metrics
              db_name: ims
       
  systemcore_ec2:
    dimensions:
      - host: purchaseorder
  promtail:
    dimensions:
      - pod_name: promtail
  redis:
    dimensions:
      - job_name: po-redis-metrics
  celery:
    dimensions:
      - job_name: po-celery-metrics
